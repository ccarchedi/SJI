#!/bin/bash
#
echo "======================" > output/test.ndrzp/test.ndrzp.log
echo "Stripping MINEOS" >> output/test.ndrzp/test.ndrzp.log
#
../MINEOS/bin/mineos_strip <<! >> output/test.ndrzp/test.ndrzp.log
output/test.ndrzp/test.ndrzp.strip
output/test.ndrzp/test.ndrzp_0.eig_fix


!
#
echo "======================" > output/test.ndrzp/test.ndrzp.log
echo "Done stripping, now calculating tables" > output/test.ndrzp/test.ndrzp.log
#
../MINEOS/bin/mineos_table <<! >> output/test.ndrzp/test.ndrzp.log
output/test.ndrzp/test.ndrzp.table
40000
0 200.1
1 5500
output/test.ndrzp/test.ndrzp.q
output/test.ndrzp/test.ndrzp.strip

!
#
echo "======================" > output/test.ndrzp/test.ndrzp.log
echo "Creating branch file" > output/test.ndrzp/test.ndrzp.log
#
../MINEOS/bin/plot_wk <<! >> output/test.ndrzp/test.ndrzp.log
table output/test.ndrzp/test.ndrzp.table_hdr
search
1 0.0 200.1
99 0 0
branch

quit
!
#
echo "======================" > output/test.ndrzp/test.ndrzp.log
echo "Making frechet phV kernels binary" > output/test.ndrzp/test.ndrzp.log
#
if [ -f "output/test.ndrzp/test.ndrzp.cvfrechet" ]; then rm output/test.ndrzp/test.ndrzp.cvfrechet; fi
../MINEOS/bin/frechet_cv <<! >> output/test.ndrzp/test.ndrzp.log
./data/earth_models/qmod3
output/test.ndrzp/test.ndrzp.table_hdr.branch
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_0.eig_fix
0


!
#
echo "======================" > output/test.ndrzp/test.ndrzp.log
echo "Writing phV kernel files for each period" > output/test.ndrzp/test.ndrzp.log
#
                 ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_5.0s
5.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_6.0s
6.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_8.0s
8.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_10.0s
10.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_12.0s
12.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_15.0s
15.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_20.0s
20.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_25.0s
25.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_32.0s
32.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_40.0s
40.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_50.0s
50.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_60.0s
60.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_80.0s
80.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_100.0s
100.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_120.0s
120.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_140.0s
140.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.ndrzp/test.ndrzp.cvfrechet
output/test.ndrzp/test.ndrzp_cvfrechet_180.0s
180.00
!
            