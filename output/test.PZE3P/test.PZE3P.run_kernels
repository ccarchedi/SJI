#!/bin/bash
#
echo "======================" > output/test.PZE3P/test.PZE3P.log
echo "Stripping MINEOS" >> output/test.PZE3P/test.PZE3P.log
#
../MINEOS/bin/mineos_strip <<! >> output/test.PZE3P/test.PZE3P.log
output/test.PZE3P/test.PZE3P.strip
output/test.PZE3P/test.PZE3P_0.eig_fix


!
#
echo "======================" > output/test.PZE3P/test.PZE3P.log
echo "Done stripping, now calculating tables" > output/test.PZE3P/test.PZE3P.log
#
../MINEOS/bin/mineos_table <<! >> output/test.PZE3P/test.PZE3P.log
output/test.PZE3P/test.PZE3P.table
40000
0 200.1
1 5500
output/test.PZE3P/test.PZE3P.q
output/test.PZE3P/test.PZE3P.strip

!
#
echo "======================" > output/test.PZE3P/test.PZE3P.log
echo "Creating branch file" > output/test.PZE3P/test.PZE3P.log
#
../MINEOS/bin/plot_wk <<! >> output/test.PZE3P/test.PZE3P.log
table output/test.PZE3P/test.PZE3P.table_hdr
search
1 0.0 200.1
99 0 0
branch

quit
!
#
echo "======================" > output/test.PZE3P/test.PZE3P.log
echo "Making frechet phV kernels binary" > output/test.PZE3P/test.PZE3P.log
#
if [ -f "output/test.PZE3P/test.PZE3P.cvfrechet" ]; then rm output/test.PZE3P/test.PZE3P.cvfrechet; fi
../MINEOS/bin/frechet_cv <<! >> output/test.PZE3P/test.PZE3P.log
./data/earth_models/qmod3
output/test.PZE3P/test.PZE3P.table_hdr.branch
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_0.eig_fix
0


!
#
echo "======================" > output/test.PZE3P/test.PZE3P.log
echo "Writing phV kernel files for each period" > output/test.PZE3P/test.PZE3P.log
#
                 ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_5.0s
5.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_6.0s
6.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_8.0s
8.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_10.0s
10.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_12.0s
12.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_15.0s
15.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_20.0s
20.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_25.0s
25.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_32.0s
32.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_40.0s
40.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_50.0s
50.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_60.0s
60.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_80.0s
80.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_100.0s
100.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_120.0s
120.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_140.0s
140.00
!
            ../MINEOS/bin/draw_frechet_gv <<!
output/test.PZE3P/test.PZE3P.cvfrechet
output/test.PZE3P/test.PZE3P_cvfrechet_180.0s
180.00
!
            